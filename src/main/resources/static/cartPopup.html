<div id="cartPopupOverlay" style="display: none; position: fixed; top: 50px; right: 0; width: 25%; height: 80%;  overflow: auto;">
    <!-- Container for the content of cartpopup.html -->
    <div id="cartPopupContent" style="background-color: #fefefe; border: 1px solid #888;  border-radius: 10px;">
        <p style="text-align:center;">Select a Chatter</p>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    var popupOpen = false; // Variable to track if popup is open

    // Function to open the cart popup overlay
    function openCartPopup() {
        console.log('Opening popup...');
        $('#cartPopupOverlay').fadeIn();
        popupOpen = true; // Set popupOpen to true when popup is opened
    }

    // Function to close the cart popup overlay
    function closeCartPopup() {
        console.log('Closing popup...');
        $('#cartPopupOverlay').fadeOut();
        popupOpen = false; // Set popupOpen to false when popup is closed
    }

    // Event delegation to close the popup when clicked outside
    $(document).on('click', function(event) {
        var $target = $(event.target);
        if (popupOpen && !$target.closest('#cartPopupContent').length && !$target.is('#cartPopupContent')) {
            closeCartPopup();
        }
    });

    // Prevent the popup from closing when clicked inside
    $('#cartPopupContent').on('click', function(event) {
        event.stopPropagation();
    });

    // Event listener for the icon click to open the popup
    $('#openPopupIcon').on('click', function(event) {
        event.stopPropagation(); // Prevent event propagation
        openCartPopup();
    });
</script>